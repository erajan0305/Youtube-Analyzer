@import models.SearchResults.SearchResults
@(searchForm: Form[Search], searchResults: SearchResults)(searchKeywords: Array[String])(implicit messages: play.i18n.Messages)


<html>
<head>
    <title>Youtube Analyzer</title>
</head>
<body>
<section id="content">
    <h1>Youtube Analyzer</h1>
    <br/><br/>
    @helper.form(action = routes.YoutubeAnalyzerController.fetchVideosByKeywords()) {
    @helper.inputText(searchForm("searchKeyword"))
    <input type="submit" value="Search">
    }
    <div>
        @if(searchKeywords!=null && searchKeywords.length > 0){
        @for(searchKeyword <- searchKeywords){
        <a href='@routes.YoutubeAnalyzerController.fetchSimilarityStats(searchKeyword)'>@searchKeyword</a>
        }
        }
        @if(searchResults != null) {
        <ol>
            @for(item <- searchResults.items) {
            <hr style="width:50%;text-align:left;margin-left:0">
            @if(item != null) {
            <li><a href="https://www.youtube.com/watch?v=@item.id.videoId" target="_blank">@item.snippet.title</a>,
                <a href="@routes.YoutubeAnalyzerController.fetchChannelInformation(item.snippet.channelId)"><b>@item.snippet.channelTitle</b></a>
                ,@item.viewCount ,@item.snippet.publishTime
            </li>
            }
            }
        </ol>
        }
    </div>
</section>
</body>
</html>